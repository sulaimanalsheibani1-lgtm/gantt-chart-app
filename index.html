<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>UniProject - Professional Gantt Chart Manager</title>

    <link rel="stylesheet" href="styles.css?v=1">
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                <line x1="16" y1="2" x2="16" y2="6"></line>
                <line x1="8" y1="2" x2="8" y2="6"></line>
                <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
            <span id="projectTitle">UniProject - Gantt Chart Manager</span>
        </div>
        <div class="header-actions">
            <button class="btn" onclick="saveProject()">üíæ Save</button>
            <button class="btn" onclick="loadProject()">üìÇ Open</button>
            <button class="btn" onclick="exportProject()">üì§ Export</button>
            <button class="btn btn-primary" onclick="showNewProjectModal()">‚ûï New Project</button>
        </div>
    </div>

    <!-- Toolbar -->
    <div class="toolbar">
        <div class="toolbar-group">
            <button class="btn btn-icon" onclick="undo()" title="Undo (Ctrl+Z)">‚Ü©Ô∏è</button>
            <button class="btn btn-icon" onclick="redo()" title="Redo (Ctrl+Y)">‚Ü™Ô∏è</button>
        </div>
        <div class="toolbar-group">
            <button class="btn btn-icon" onclick="addTask()" title="Add Task">‚ûï</button>
            <button class="btn btn-icon" onclick="deleteTask()" title="Delete Task">üóëÔ∏è</button>
            <button class="btn btn-icon" onclick="duplicateTask()" title="Duplicate Task">üìã</button>
        </div>
        <div class="toolbar-group">
            <button class="btn btn-icon" onclick="indentTask()" title="Indent">‚Üí</button>
            <button class="btn btn-icon" onclick="outdentTask()" title="Outdent">‚Üê</button>
        </div>
        <div class="toolbar-group">
            <button class="btn btn-icon" onclick="moveTaskUp()" title="Move Up">‚¨ÜÔ∏è</button>
            <button class="btn btn-icon" onclick="moveTaskDown()" title="Move Down">‚¨áÔ∏è</button>
        </div>
        <div class="toolbar-group">
            <button class="btn" onclick="addMilestone()">üèÅ Milestone</button>
            <button class="btn" onclick="toggleCriticalPath()">üî¥ Critical Path</button>
        </div>
        <div class="toolbar-group zoom-controls">
            <button class="btn btn-icon" onclick="zoomOut()" title="Zoom Out">üîç-</button>
            <input type="range" class="zoom-slider" min="15" max="60" value="30" oninput="setZoom(this.value)">
            <button class="btn btn-icon" onclick="zoomIn()" title="Zoom In">üîç+</button>
        </div>
        <div class="toolbar-group">
            <button class="btn" onclick="autoSchedule()">‚ö° Auto Schedule</button>
            <button class="btn" onclick="showProjectSettings()">‚öôÔ∏è Settings</button>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Task Panel -->
        <div class="task-panel">
            <div class="task-header">
                <div>ID</div>
                <div>WBS</div>
                <div>Task Name</div>
                <div>Duration</div>
                <div>Start</div>
                <div>Finish</div>
                <div>Predecessors</div>
            </div>
            <div class="task-list" id="taskList"></div>
        </div>

        <!-- Resizer -->
        <div class="resizer" id="panelResizer"></div>

        <!-- Gantt Panel -->
        <div class="gantt-panel">
            <div class="gantt-header" id="ganttHeader"></div>
            <div class="gantt-body">
                <div class="gantt-grid" id="ganttGrid"></div>
                <div class="gantt-rows" id="ganttRows"></div>
                <svg id="ganttLinks" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;"></svg>
            </div>
        </div>
    </div>

    <!-- Status Bar -->
    <div class="status-bar">
        <div class="status-left">
            <div class="status-item">
                <span>Tasks:</span>
                <strong id="taskCount">0</strong>
            </div>
            <div class="status-item">
                <span>Duration:</span>
                <strong id="projectDuration">0 days</strong>
            </div>
            <div class="status-item">
                <span>Progress:</span>
                <strong id="projectProgress">0%</strong>
            </div>
            <div class="status-item">
                <div class="status-indicator critical"></div>
                <span>Critical</span>
            </div>
            <div class="status-item">
                <div class="status-indicator normal"></div>
                <span>Normal</span>
            </div>
        </div>
        <div class="status-right">
            <span id="projectDates">Start: -- | End: --</span>
        </div>
    </div>

    <!-- New Project Modal -->
    <div class="modal" id="newProjectModal">
        <div class="modal-content">
            <div class="modal-header">Create New Project</div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Project Name *</label>
                    <input type="text" id="projectName" placeholder="Enter project name" required>
                    <div class="error-message" id="projectNameError"></div>
                </div>
                <div class="form-group">
                    <label>Start Date *</label>
                    <input type="date" id="projectStartDate" required>
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="projectDescription" rows="3" placeholder="Enter project description"></textarea>
                </div>
                <div class="form-group">
                    <label>Template</label>
                    <select id="projectTemplate">
                        <option value="">Blank Project</option>
                        <option value="software">Software Development</option>
                        <option value="construction">Construction Project</option>
                        <option value="marketing">Marketing Campaign</option>
                        <option value="event">Event Planning</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="closeModal('newProjectModal')">Cancel</button>
                <button class="btn btn-primary" onclick="createProject()">Create Project</button>
            </div>
        </div>
    </div>

    <!-- Project Settings Modal -->
    <div class="modal" id="projectSettingsModal">
        <div class="modal-content">
            <div class="modal-header">Project Settings</div>
            <div class="modal-body">
                <div class="form-group">
                    <label>Working Days</label>
                    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
                        <label><input type="checkbox" id="workMon" checked> Monday</label>
                        <label><input type="checkbox" id="workTue" checked> Tuesday</label>
                        <label><input type="checkbox" id="workWed" checked> Wednesday</label>
                        <label><input type="checkbox" id="workThu" checked> Thursday</label>
                        <label><input type="checkbox" id="workFri" checked> Friday</label>
                        <label><input type="checkbox" id="workSat"> Saturday</label>
                        <label><input type="checkbox" id="workSun"> Sunday</label>
                    </div>
                </div>
                <div class="form-group">
                    <label>Working Hours Per Day</label>
                    <input type="number" id="workingHours" value="8" min="1" max="24">
                </div>
                <div class="form-group">
                    <label>Date Format</label>
                    <select id="dateFormat">
                        <option value="MM/dd/yyyy">MM/dd/yyyy</option>
                        <option value="dd/MM/yyyy">dd/MM/yyyy</option>
                        <option value="yyyy-MM-dd">yyyy-MM-dd</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="closeModal('projectSettingsModal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveProjectSettings()">Save Settings</button>
            </div>
        </div>
    </div>

    <!-- Task Info Modal -->
    <div class="modal" id="taskInfoModal">
        <div class="modal-content">
            <div class="modal-header">Task Information</div>
            <div class="modal-body">
                <div class="tab-buttons">
                    <button type="button" class="tab-button active" data-tab="general" onclick="switchTaskInfoTab('general')">General</button>
                    <button type="button" class="tab-button" data-tab="predecessors" onclick="switchTaskInfoTab('predecessors')">Predecessors</button>
                    <button type="button" class="tab-button" data-tab="notes" onclick="switchTaskInfoTab('notes')">Notes</button>
                </div>
                <div class="tab-content active" id="taskInfoTab-general">
                    <div class="form-group">
                        <label>Name</label>
                        <input type="text" id="taskInfoName">
                    </div>
                    <div class="form-group">
                        <label>Start</label>
                        <input type="date" id="taskInfoStart">
                    </div>
                    <div class="form-group">
                        <label>Finish</label>
                        <input type="date" id="taskInfoFinish">
                    </div>
                    <div class="form-group">
                        <label>Duration (days)</label>
                        <input type="number" id="taskInfoDuration" min="0">
                    </div>
                    <div class="form-group">
                        <label>Progress (%)</label>
                        <input type="number" id="taskInfoProgress" min="0" max="100">
                    </div>
                </div>
                <div class="tab-content" id="taskInfoTab-predecessors">
                    <div class="form-group">
                        <label>Predecessors</label>
                        <input type="text" id="taskInfoPredecessors" placeholder="e.g., 1FS,2SS">
                    </div>
                </div>
                <div class="tab-content" id="taskInfoTab-notes">
                    <div class="form-group">
                        <label>Notes</label>
                        <textarea id="taskInfoNotes" rows="6" placeholder="Add task notes"></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn" onclick="closeModal('taskInfoModal')">Cancel</button>
                <button class="btn btn-primary" onclick="saveTaskInfo()">Save</button>
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div class="context-menu" id="contextMenu">
        <div class="context-menu-item" onclick="addTask()">Add Task</div>
        <div class="context-menu-item" onclick="addSubtask()">Add Subtask</div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" onclick="duplicateTask()">Duplicate</div>
        <div class="context-menu-item" onclick="deleteTask()">Delete</div>
        <div class="context-menu-separator"></div>
        <div class="context-menu-item" onclick="moveTaskUp()">Move Up</div>
        <div class="context-menu-item" onclick="moveTaskDown()">Move Down</div>
    </div>

    
    <script src="app.js?v=1"></script>
</body>
</html>
